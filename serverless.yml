service: glibs-handler

plugins:
  - serverless-aws-alias

provider:
  name: aws
  runtime: nodejs8.10
  deploymentBucket: nodelabs-deploy

functions:
  hello:
    handler: handler.hello
    events:
      - http:
          path: hello
          method: any

  func1:
    handler: handler.func1
    events:
      - http:
          path: func1/{value1}/{value2}
          method: any

  func2:
    handler: handler.func2
    events:
      - http:
          path: func2/{value1}/{value2}
          method: any
          integration: lambda

  perkalian:
    handler: handler.perkalian
    events:
      - http:
          path: perkalian/{value1}/{value2}
          method: get
          integration: lambda

  penjumlahan:
    handler: handler.penjumlahan
    events:
      - http:
          path: perkalian/{value1}/{value2}
          method: get
          integration: lambda
          
  perhitungan:
    handler: handler.perhitungan
    events:
      - http:
          path: perhitungan/{action}/{value1}/{value2}
          method: get
          integration: lambda

  app:
    handler: handler.app
    events:
      - http:
          path: tambah
          method: any
      - http:
          path: kali
          method: any

resources:
  Resources:
    ApiGatewayRestApi:
      Type: AWS::ApiGateway::RestApi
      Properties:
        Name: ${self:service}
